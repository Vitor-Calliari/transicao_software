{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Produtos</title>
    <link rel="stylesheet" href="{% static '/css/style.css' %}">
    <link rel="stylesheet" href="{% static '/css/base.css' %}">
    <link rel="stylesheet" href="{% static '/css/dashboard.css' %}">
    <link rel="stylesheet" href="{% static '/css/produtos.css' %}">
</head>
<body>
     {% include 'background.html' %}
    
    <div class="container-dashboard">
        {% include 'sidebar.html' %}        
        <main class="produtos-main">
            <h1>Produtos</h1>

            <div class="top-bar">
                <div class="search-container">
                    <input type="text" placeholder="Pesquisar" class="search-input" id="searchProduto"> 
                    <img src="{% static '/icons/lupa_icon.svg' %}" alt="Buscar" class="search-icon">
                </div>

                <button type="button" class="addbotaoproduto">Adicionar Produto</button>
            </div>

            <div class="produtos-lista">
                <table class="produtos-table">
                    <thead>
                        <tr>
                            <th>Descrição</th>
                            <th>Código</th>
                            <th>Estoque atual</th>
                            <th>Valor unitário</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="produtosTbody">
                        <!-- linhas geradas via JS -->
                    </tbody>
                </table>
                <div id="paginationControls" class="pagination"></div>
            </div>

            

        </main>

    </div> <!-- fecha container-dashboard -->


    <div id="modalOverlayProduto" class="overlay" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="modalProdutoTitle">
        <div class="modal-content">

            <h2 id="modalProdutoTitle">Novo produto</h2>

            <div id="produtoError" class="modal-error" role="alert" aria-hidden="true">
                <strong class="modal-error-title">ATENÇÃO!</strong>
                <p id="produtoErrorMessage" class="modal-error-message"></p>
            </div>

            <!-- Primeira linha: Descrição (sp3), Valor unitário (sp1), Estoque inicial (sp1) -->
            <div class="field span-3">
                <label for="produtoDescricao">Descrição</label>
                <input id="produtoDescricao" type="text" placeholder="Descrição">
            </div>

            <div class="field span-1">
                <label for="produtoValorUnitario">Valor unitário</label>
                <input id="produtoValorUnitario" type="text" placeholder="Valor unitário">
            </div>

            <div class="field span-1" id="fieldEstoqueInicial">
                <label for="produtoEstoque">Estoque inicial</label>
                <input id="produtoEstoque" type="text" placeholder="Estoque inicial">
            </div>

            <!-- Campo quantidade para adicionar ao estoque (somente em edição) -->
            <div class="field span-1" id="fieldQuantidade" style="display: none;">
                <label for="produtoQtd">Quantidade a adicionar</label>
                <input id="produtoQtd" type="text" placeholder="Quantidade">
            </div>

            <!-- Segunda linha: CÓD, Salvar, Cancelar, Excluir -->
            <div class="field span-1">
                <label for="produtoCod">Código</label>
                <input id="produtoCod" type="text" placeholder="CÓD">
            </div>

            <div class="actions-row span-1">
                <button id="salvarProduto" type="button">Salvar</button>
            </div>

            <div class="actions-row span-1">
                <button id="fecharModalProdutoCancelar" type="button">Cancelar</button>
            </div>

            <div class="actions-row span-1">
                <button id="excluirProduto" type="button">Excluir</button>
            </div>

            <input type="hidden" id="produtoID">
        </div>
    </div>

    <script>
        window.CSRF_TOKEN = "{{ csrf_token }}";
    </script>
    <script src="{% static '/js/script.js' %}"></script>
    <script src="{% static '/js/produtos_crud_script.js' %}"></script>
</body>
</html>
